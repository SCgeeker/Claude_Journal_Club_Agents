# Phase 2.2 執行快速參考 - 用戶指南

**狀態**: ✅ 所有準備完成，等待執行
**日期**: 2025-11-02

---

## 📞 如何呼叫執行

### 標準呼叫格式

```
用戶輸入任何以下指令都可以：

"執行 Batch A: ZoteroSync 核心實現"
或
"Batch A: ZoteroSync"
或
"Batch A"
```

---

## 🎯 六個批次簡明表

| # | 批次 | 工作 | 時長 | 預期結果 |
|----|------|------|------|--------|
| **1** | **Batch A** | 實現 ZoteroSync | 6h | ✅ 導入工具就緒 |
| **2** | **Batch B1** | 導入 27 篇 | 2-3h | KB: 31→58 |
| **3** | **Batch C** | Relation 分析 | 2-3h | ✅ 知識圖譜更新 |
| **4** | **Batch B2** | 導入 27 篇 | 2-3h | KB: 58→85 |
| **5** | **Batch B3** | 導入 27 篇 | 2-3h | KB: 85→**112** ✅ |
| **6** | **Batch D** | 最終分析 | 2-3h | ✅ 報告完成 |

---

## 📅 建議執行時間表

### 推薦執行順序

```
Day 1 (明天 2025-11-03)   → 呼叫: "Batch A"
Day 2 (2025-11-04)        → 呼叫: "Batch B1"
Day 3 (2025-11-05)        → 呼叫: "Batch C"

[中間休息幾天]

Day 10 (2025-11-10)       → 呼叫: "Batch B2"
Day 11 (2025-11-11)       → 呼叫: "Batch B3"
Day 12 (2025-11-12)       → 呼叫: "Batch D"

完成: 2025-11-12
```

### 也可以連續執行

```
Day 1:  Batch A
        Batch B1
        Batch C

Day 2:  Batch B2
        Batch B3
        Batch D

完成: 2025-11-04
```

---

## ✅ 每個 Batch 的檢查清單

### Batch A: ZoteroSync 實現

```
前置檢查:
☐ 確認 src/integrations/ 目錄存在
☐ 確認 src/integrations/bibtex_parser.py 可用

呼叫:
>> "執行 Batch A"

預期輸出:
✅ src/integrations/zotero_sync.py 完成
✅ import_zotero_batch.py 準備就緒
✅ 小規模測試通過 (5 篇論文)

驗收:
☑ ZoteroSync 類結構正確
☑ 匹配準確度 >95%
☑ 去重邏輯正確
```

### Batch B1-B3: 導入批次

```
前置檢查 (每個批次):
☐ 確認 knowledge_base/index.db 已備份
☐ 確認 final_import_list.json 存在
☐ 確認 check_quality.py 可運行

呼叫 B1:
>> "執行 Batch B1"

呼叫 B2:
>> "執行 Batch B2"

呼叫 B3:
>> "執行 Batch B3"

預期輸出 (每個批次):
✅ 導入成功: 25-27 篇
✅ 知識庫擴展
✅ 品質檢查完成
✅ 搜索延遲正常 (<160ms)

驗收:
☑ 導入成功率 >95%
☑ 新論文可被搜索到
☑ 去重有效 (無重複)
```

### Batch C & D: 分析批次

```
前置檢查:
☐ 確認 Relation-Finder 代碼可運行
☐ 確認 output/ 目錄存在

呼叫 C:
>> "執行 Batch C"

呼叫 D:
>> "執行 Batch D"

預期輸出:
✅ Relation-Finder 分析完成
✅ 知識圖譜已更新
✅ 統計報告生成
✅ Mermaid 圖表生成

驗收:
☑ 分析運行成功
☑ 無數據不一致
☑ 所有文檔已生成
```

---

## 📊 成本和進度追蹤

### 流量監控

```
總預算: 200,000 tokens
已使用: ~15,000 tokens (歷史)
本計畫: ~35,000 tokens
使用率: 25% (充分安全)

每個 Batch 的成本:
├─ Batch A: 6,000 tokens
├─ Batch B1: 5,000 tokens
├─ Batch C: 6,000 tokens
├─ Batch B2: 5,000 tokens
├─ Batch B3: 5,000 tokens
└─ Batch D: 6,000 tokens
           ─────────
           35,000 tokens
```

### 進度追蹤

```
[ ] Batch A: ZoteroSync (6 小時)
    └─ 完成: ___/%

[ ] Batch B1: 第一批導入 (2-3 小時)
    └─ 完成: ___/27 篇

[ ] Batch C: 關係分析 (2-3 小時)
    └─ 完成:

[ ] Batch B2: 第二批導入 (2-3 小時)
    └─ 完成: ___/27 篇

[ ] Batch B3: 第三批導入 (2-3 小時)
    └─ 完成: ___/27 篇

[ ] Batch D: 最終分析 (2-3 小時)
    └─ 完成:

【最終結果】
知識庫規模: 31 → ___ 篇 (目標: 100+)
```

---

## 🆘 常見情況處理

### 如果某個 Batch 失敗

```
情況 1: Batch A (ZoteroSync) 失敗
→ 重新呼叫: "重新執行 Batch A"
→ 或提供更多詳情: "Batch A 失敗，錯誤是…"

情況 2: Batch B (導入) 失敗
→ 重新呼叫: "重新執行 Batch B1"
→ 或恢復: "從 Batch B1 備份恢復"

情況 3: Batch C/D (分析) 失敗
→ 重新呼叫: "重新執行 Batch C"
→ 或回滾: "回滾到 Batch B3 後"

情況 4: 想要暫停
→ 訊息: "暫停 Phase 2.2，准備稍後繼續"
→ 我會停止並保存進度
→ 下次直接呼叫下一個 Batch
```

### 如果想要查詢狀態

```
詢問: "查詢 Phase 2.2 當前狀態"
→ 我會報告:
  ✅ 已完成的 Batches
  ⏳ 當前進度
  📈 知識庫統計
  下一步: Batch X

詢問: "知識庫統計"
→ 我會報告當前知識庫的:
  - 論文數
  - 作者數
  - 概念數
  - 搜索延遲
```

---

## 🎯 最終目標

```
執行所有 6 個 Batches 後:

【知識庫規模】
✅ 論文: 31 → 112 篇 (+3.6 倍)
✅ 作者: 99 → 348 位 (+3.5 倍)
✅ 概念: 73 → 236 個 (+3.1 倍)

【性能指標】
✅ 搜索延遲: <160ms (正常)
✅ 品質評分: >77/100 (良好)
✅ 導入成功率: >95%

【交付物】
✅ ZoteroSync 工具完整實現
✅ 112 篇論文入庫
✅ 知識圖譜完整更新
✅ 詳細的完成報告

【下一步】
✅ Phase 2.3: 知識庫架構適配層
✅ 未來: 第二個知識庫整合
```

---

## 📞 快速參考卡

保留此卡片以便快速執行：

```
【快速執行命令】

第一週 (Week 1):
$ 執行 Batch A
$ 執行 Batch B1
$ 執行 Batch C

第二週 (Week 2):
$ 執行 Batch B2
$ 執行 Batch B3
$ 執行 Batch D

【查詢命令】

$ 查詢進度
$ 查詢知識庫統計
$ 查詢 Phase 2.2 狀態

【恢復命令】

$ 重新執行 Batch A
$ 從 Batch B1 備份恢復
$ 查詢失敗日誌
```

---

## 📚 詳細文檔位置

如需詳細信息，請參考：

| 文檔 | 內容 |
|------|------|
| `PHASE2_2_BATCH_EXECUTION_PLAN.md` | 完整的批次執行計畫 |
| `SMART_IMPORT_READY_REPORT.md` | 智能篩選策略和準備狀態 |
| `final_import_list.json` | 120 篇候選論文列表 |
| `kb_profile.json` | 知識庫特徵分析 |

---

## ✨ 準備就緒

```
✅ 所有 6 個 Batch 已設計完成
✅ 流量預算已規劃 (35K/200K tokens)
✅ 執行步驟已明確
✅ 成功標準已定義
✅ 應急計畫已準備

🚀 隨時準備開始!

下一步: 用戶呼叫 "執行 Batch A"
```

---

**快速參考生成**: 2025-11-02
**狀態**: ✅ 準備就緒
**預期開始**: 隨時（用戶指定）

